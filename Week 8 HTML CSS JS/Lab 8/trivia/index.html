<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <title>Trivia!</title>
    </head>
    <body>
        <div class="container">
        <div class="header">
            <h1>Trivia!</h1>
        </div>
        <main>
            <div class="section">
                <h2>Part 1: Multiple Choice </h2>
                <hr>
                <h3>What is the smallest country in Africa by population?</h3>
                    <button id="qn1-1" data-correct="false">Namibia</button>
                    <button id="qn1-2" data-correct="false">Zimbabwe</button>
                    <button id="qn1-3" data-correct="true">Seychelles</button>
                    <button id="qn1-4" data-correct="false">Niger</button>
                <p id="ans-msg-1"></p>
            </div>

            <div class="section">
                <h2>Part 2: Free Response</h2>
                <hr>
                <!-- TODO: Add free response question here -->
                <h3>In which country is maligne lake located?</h3>
                <input id="qn2input" type="text" placeholder="Answer here">
                <button id="qn2btn" type="submit">Check Answer</button>
                <p id="ans-msg-2"></p>
            </div>
        </main>
        </div>
        <script>
            // First question
            const qnOneBtns = document.querySelectorAll("[id^='qn1-']");
            qnOneBtns.forEach(item => {
                item.addEventListener('click', (e) => {
                    let ansMsg1 = document.querySelector('#ans-msg-1')
                    if (e.target.dataset.correct === "true") {
                        ansMsg1.innerText = "Correct!"
                        document.querySelector(`#${e.target.id}`).style.backgroundColor = "rgba(130,221,85,0.75)"
                    } else {
                        ansMsg1.innerText = "Incorrect"
                        document.querySelector(`#${e.target.id}`).style.backgroundColor = "rgba(226,54,54,0.7)"
                    }
                    setTimeout(() => {
                        document.querySelector(`#${e.target.id}`).style.backgroundColor = "#d9edff"
                    }, 750)
                })
            })

            // Second question
            const qnTwoBtn = document.querySelector("#qn2btn")
            qnTwoBtn.addEventListener('click', (e) => {
                let qn2input = document.querySelector("#qn2input")
                let answerSubmitted = qn2input.value
                let ansRegex = /Canada/i;

                if (ansRegex.test(answerSubmitted)) {
                    document.querySelector('#ans-msg-2').innerText = "Correct!"
                    qn2input.style.backgroundColor = "rgba(130,221,85,0.75)"
                } else {
                    document.querySelector('#ans-msg-2').innerText = "Incorrect"
                    qn2input.style.backgroundColor = "rgba(226,54,54,0.7)"
                }
                setTimeout(() => {
                    qn2input.style.backgroundColor = "#d9edff"
                    qn2input.value = ""
                }, 750)
            })

            </script>
    </body>
    </html>
